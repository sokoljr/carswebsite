$(document).ready(function(){function e(){$.ajax({method:"GET",url:a+"?APPID="+s+"&q="+$('input[name="city_name"]').val()+"&units=metric&lang=ru"}).done(function(e){function t(e){var o=e.getHours(),t=e.getMinutes(),n=e.getSeconds(),a=e.getMonth()+1,s=e.getDate(),i=e.getFullYear();o<10&&(o="0"+o),t<10&&(t="0"+t),n<10&&(n="0"+n),a<10&&(a="0"+a),s<10&&(s="0"+s);var r={time:o+":"+t+":"+n,date:s+"."+a+"."+i};return r}if(i.empty(),200!==e.cod)i.html("Eror - city is not found").addClass("col-md-12 weather_result").css({color:"red","font-size":"18px"}),$("#google_map").css("display","none");else{i.empty();var n={city:e.name,country:e.sys.country,coord_lat:e.coord.lat,coord_lon:e.coord.lon,temp:e.main.temp,date:e.dt,sunrise:e.sys.sunrise,sunset:e.sys.sunset,icon:e.weather[0].icon,wind:e.wind.speed},a=new Date(1e3*n.date),s=new Date(1e3*n.sunrise),r=new Date(1e3*n.sunset),l="http://openweathermap.org/img/w/"+n.icon+".png",c=t(a),d=t(s),p=t(r);i.addClass("weather_result"),i.append("<p>"+n.city+", "+n.country+"</p>"),i.append('<p><img src=" '+l+' "> '+Math.round(n.temp)+"&deg;ะก</p>"),i.append("<p>Time: "+c.time+", Date: "+c.date+"</p>"),i.append("<p>Wind: "+n.wind+" m/ั</p>"),i.append("<p>Sunrise: "+d.time+"</p>"),i.append("<p>Sunset: "+p.time+"</p>"),i.append("<p>Coord: ["+n.coord_lat+" lat , "+n.coord_lon+" lon]</p>"),$("#google_map").css("display","block"),o(n.coord_lat,n.coord_lon)}}).fail(function(e){i.html(e.status+": "+e.statusText).addClass("weather_result")})}function o(e,o){var t,e,n,a,s={lat:e,lng:o};a={center:s,zoom:6},t=new google.maps.Map(document.getElementById("google_map"),a),n=new google.maps.Marker({position:s,animation:google.maps.Animation.BOUNCE}),n.setMap(t)}$("body").css("display","none").fadeIn(1e3);var t=$("#fixedMenu");$(window).scroll(function(){$(this).scrollTop()>440&&t.hasClass("normalize")?t.fadeOut(200,function(){$(this).removeClass("normalize").addClass("fixed").fadeIn(200)}):$(this).scrollTop()<=240&&t.hasClass("fixed")&&t.fadeOut(200,function(){$(this).removeClass("fixed").addClass("normalize").fadeIn(200)})}),$(".carousel").carousel({interval:3e3}),$("#scrollup img").mouseover(function e(){$(e()).animate({opacity:.65},100)}).mouseout(function(){$(scrollUp()).animate({opacity:1},100)}).click(function(){return $("body,html").animate({scrollTop:0},400),!1}),$(window).scroll(function(){$(document).scrollTop()>300?$("#scrollup").fadeIn("fast"):$("#scrollup").fadeOut("fast")});var n=$("html, body");$('a[href*="#your_weather"]').click(function(){return n.animate({scrollTop:$($.attr(this,"href")).offset().top},600),!1}),$(function(){$("#accordion").accordion({heightStyle:"content"})}),$("#slick_slider").slick({slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2e3,speed:1e3,focusOnSelect:!0,prevArrow:$(".slider_disign .slider_controls.left"),nextArrow:$(".slider_disign .slider_controls.right")});var a="http://api.openweathermap.org/data/2.5/weather",s="0ba0663593a8a52f4b0a146c9dc36aaf",i=$("#main_weather");$("#get_weather").on("click",e),$("#city_name").on("keypress",function(o){if(13==o.which)return e()})});